<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="RESTful API表属性状态转移，一种软件架构风格而不是标准 或者说满足REST风格发接口 GET:取出资源 POST：新建一个资源 PUT：更新资源（客户端提供完整资源数据） PATCH：更新资源（客户端提供需要修改的资源数据） DELETE：删除资源 核心要点 1、每一个URL代表一个资源 2、使用HTTP方法（GET、POST等）表示对资源的操作 3、使用HTTP状态码表示请求的结果 U">
<meta property="og:type" content="article">
<meta property="og:title" content="建立一个项目（后端学习）1">
<meta property="og:url" content="https://shanjhs.github.io/2024/11/23/%E5%BB%BA%E7%AB%8B%E4%B8%80%E4%B8%AA%E9%A1%B9%E7%9B%AE1/index.html">
<meta property="og:site_name" content="山角函兽的小窝">
<meta property="og:description" content="RESTful API表属性状态转移，一种软件架构风格而不是标准 或者说满足REST风格发接口 GET:取出资源 POST：新建一个资源 PUT：更新资源（客户端提供完整资源数据） PATCH：更新资源（客户端提供需要修改的资源数据） DELETE：删除资源 核心要点 1、每一个URL代表一个资源 2、使用HTTP方法（GET、POST等）表示对资源的操作 3、使用HTTP状态码表示请求的结果 U">
<meta property="og:locale">
<meta property="article:published_time" content="2024-11-23T07:40:34.000Z">
<meta property="article:modified_time" content="2024-11-23T08:29:32.443Z">
<meta property="article:author" content="山角函兽">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://ShanJHS.github.io/2024/11/23/建立一个项目1/"/>





  <title>建立一个项目（后端学习）1 | 山角函兽的小窝</title>
  








<meta name="generator" content="Hexo 7.3.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">山角函兽的小窝</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://ShanJHS.github.io/2024/11/23/%E5%BB%BA%E7%AB%8B%E4%B8%80%E4%B8%AA%E9%A1%B9%E7%9B%AE1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/headImage.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="山角函兽的小窝">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">建立一个项目（后端学习）1</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2024-11-23T15:40:34+08:00">
                2024-11-23
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h3 id="RESTful-API"><a href="#RESTful-API" class="headerlink" title="RESTful API"></a>RESTful API</h3><p>表属性状态转移，一种软件架构风格而不是标准</p>
<p>或者说满足<code>REST</code>风格发接口</p>
<p><code>GET</code>:取出资源</p>
<p><code>POST</code>：新建一个资源</p>
<p><code>PUT</code>：更新资源（客户端提供完整资源数据）</p>
<p><code>PATCH</code>：更新资源（客户端提供需要修改的资源数据）</p>
<p><code>DELETE</code>：删除资源</p>
<p><strong>核心要点</strong></p>
<p>1、每一个URL代表一个资源</p>
<p>2、使用HTTP方法（<code>GET</code>、<code>POST</code>等）表示对资源的操作</p>
<p>3、使用HTTP状态码表示请求的结果</p>
<p><strong>URL概念</strong>读一读MDN Web Docs</p>
<h3 id="MVC"><a href="#MVC" class="headerlink" title="MVC"></a>MVC</h3><p>全称<code>Model-View-Controller</code></p>
<p><strong>Model(模型)</strong></p>
<p>负责处理与数据相关的操作，包括数据的存储、检索、更新和删除。通常与数据库直接交互，封装业务逻辑和数据操作。将核心逻辑与应用的其他部分分离，确保数据的一致性。</p>
<ul>
<li><strong>数据管理</strong>：处理应用的数据结构，通常与数据库或其他数据源交互。</li>
<li><strong>业务逻辑</strong>：实现与应用功能相关的核心逻辑。</li>
<li><strong>状态维护</strong>：保存应用的状态，必要时通知 View 更新（通过观察者模式或事件机制）。</li>
</ul>
<p><strong>View(视图)</strong></p>
<p>负责显示数据和用户界面（UI）。不直接处理数据或业务逻辑，而是根据 Model 提供的数据动态生成界面。视图通常是用户与应用交互的入口点。</p>
<ul>
<li><strong>数据展示</strong>：将 Model 中的数据以用户友好的方式呈现出来。</li>
<li><strong>界面响应</strong>：捕获用户的输入并传递给 Controller 处理。</li>
<li><strong>更新界面</strong>：在 Model 数据变化时更新显示内容。</li>
</ul>
<p><strong>Controller(控制器)</strong></p>
<p>负责接收用户的输入（如按钮点击或表单提交），处理逻辑后调用 Model 和 View。扮演用户与系统之间的桥梁，协调 Model 和 View 的协作。将用户的动作翻译为应用的操作。</p>
<ul>
<li><strong>输入处理</strong>：捕获用户动作（如 URL 请求、表单数据）。</li>
<li><strong>逻辑分发</strong>：调用相应的 Model 方法来处理用户请求。</li>
<li><strong>页面返回</strong>：选择并返回相应的 View 显示结果。</li>
</ul>
<p><strong>工作流程</strong></p>
<ol>
<li><p><strong>用户发起请求</strong>：</p>
<p>用户通过界面（View）进行操作，例如点击按钮或提交表单。View感知事件通知Controller处理</p>
</li>
<li><p><strong>Controller 处理请求</strong>：</p>
<p>Controller 根据用户请求调用 Model 进行数据操作或逻辑处理。</p>
</li>
<li><p><strong>Model 返回数据</strong>：</p>
<p>Model 处理后将结果返回给 Controller。</p>
</li>
<li><p><strong>Controller 更新 View</strong>：</p>
<p>Controller 将数据传递给 View，View 更新界面以展示结果。</p>
</li>
</ol>
<h3 id="前端路由和后端路由"><a href="#前端路由和后端路由" class="headerlink" title="前端路由和后端路由"></a>前端路由和后端路由</h3><h4 id="前端路由"><a href="#前端路由" class="headerlink" title="前端路由"></a>前端路由</h4><p>单文件组件之间的路径切换</p>
<p>用户访问某个路径时，前端路由会拦截浏览器的请求，并根据当前 URL 的路径决定显示的组件或内容。</p>
<p><strong>示例：</strong> 当用户访问 <code>/about</code>：</p>
<ol>
<li>浏览器不会请求服务器，而是前端路由解析 <code>/about</code>。</li>
<li>前端根据路由配置动态加载并渲染 <code>About</code> 组件。</li>
</ol>
<h4 id="后端路由"><a href="#后端路由" class="headerlink" title="后端路由"></a>后端路由</h4><p>基于 HTTP 请求，服务器根据请求的 URL 路径匹配到对应的路由处理逻辑。服务器返回相应的资源（HTML、JSON 数据或文件）。每次路径变更都会导致浏览器向服务器发起新的请求。</p>
<p>可以理解为前端每次向后端发送网络请求时，都有<code>URL</code>、<code>req</code>、<code>res</code>三个参数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">app.<span class="title function_">get</span>(<span class="string">&#x27;/api/users/:id&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> userId = req.<span class="property">params</span>.<span class="property">id</span>;  <span class="comment">// 从请求路径中提取用户ID</span></span><br><span class="line">  res.<span class="title function_">json</span>(&#123; <span class="attr">message</span>: <span class="string">`返回ID为<span class="subst">$&#123;userId&#125;</span>的用户数据`</span> &#125;);  <span class="comment">// 返回一个JSON格式的响应</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>URL：</strong>后端使用路由来匹配请求的URL（比如<code>api/users/:id</code>中的<code>:id</code>是一个路径参数，后端根据这个决定使用哪个处理函数）</p>
<p><strong><code>req</code>（请求）</strong>：通过 <code>req</code>，后端可以<strong>提取前端请求中的各种信息</strong>，比如：</p>
<ul>
<li>从路径中提取参数（如 <code>:id</code>）。</li>
<li>获取查询参数（例如 <code>/api/users?id=123</code> 中的 <code>id=123</code>）。</li>
<li>访问请求体数据（例如在 <code>POST</code> 或 <code>PUT</code> 请求中）。</li>
</ul>
<p><strong><code>res</code>（响应）</strong>：在后端处理完请求后，使用 <code>res</code> 来<strong>构造响应</strong>，并将数据返回给前端。常见的操作包括：</p>
<ul>
<li>使用 <code>res.json()</code> 返回 JSON 数据。</li>
<li>使用 <code>res.status()</code> 设置 HTTP 状态码，告知前端请求的成功或失败。</li>
</ul>
<h2 id="正式写代码啦"><a href="#正式写代码啦" class="headerlink" title="正式写代码啦"></a>正式写代码啦</h2><h3 id="Viper读取配置文件"><a href="#Viper读取配置文件" class="headerlink" title="Viper读取配置文件"></a>Viper读取配置文件</h3><h4 id="yml文件介绍"><a href="#yml文件介绍" class="headerlink" title=".yml文件介绍"></a><code>.yml</code>文件介绍</h4><p><code>.yml</code> 文件是 <strong>YAML</strong>（YAML Ain’t Markup Language）格式的文件，通常用于存储配置数据、数据交换、序列化等。YAML 是一种人类可读的数据序列化格式，设计上注重简洁、可读性和易于编辑。</p>
<p>首先<code>.yml</code>还是标记语言（使用一套特定的符号或标记比如<code>&lt;br&gt;</code>来指示文本的结构或其他格式特性），其次YAML的由来是为了强调这种语言以数据为中心而非以标记语言为重点</p>
<p>这类文件与<code>.json</code>文件类似，可以理解成一个记事本<code>.txt</code>文件（而非与<code>.cpp</code>一样的可执行文件），但支持定义复杂的数据结构，且对于人类来说更好懂、更好操作，所以我们可以把它<strong>用于配置（记录）应用程序的资源等等，然后用其他可执行文件来读取</strong></p>
<p>我们在后端<code>backend</code>文件夹中新建一个<code>config(配置)</code>文件夹，内部创建一个<code>config.yml</code>文件（用于记录应用程序的配置）和一个<code>config.go</code>文件（用于读取yml文件中的配置）</p>
<h4 id="config文件夹简介"><a href="#config文件夹简介" class="headerlink" title="config文件夹简介"></a><code>config</code>文件夹简介</h4><p><code>config</code> 文件夹通常用于存放应用程序的配置文件。配置文件在后端开发中有助于管理和组织应用所需的各种配置信息，方便代码的可维护性和灵活性。具体来说，<code>config</code> 文件夹中的文件可能包括以下内容：</p>
<ol>
<li><strong>数据库配置</strong></li>
</ol>
<ul>
<li>保存与数据库连接有关的信息，比如主机、端口、用户名、密码等。</li>
<li>不同的环境（开发、测试、生产）可能会有不同的数据库配置。</li>
</ul>
<ol start="2">
<li><strong>环境变量管理</strong></li>
</ol>
<ul>
<li>使用 <code>.env</code> 文件存储环境变量，并用 <code>dotenv</code> 模块加载这些变量。比如 API 密钥、端口号等敏感信息。</li>
<li>在代码中直接读取环境变量，比如 <code>process.env.PORT</code>。</li>
</ul>
<ol start="3">
<li><strong>第三方服务配置</strong></li>
</ol>
<ul>
<li>应用程序常常需要集成外部服务（如支付网关、邮件服务等），这些服务需要 API 密钥、URL 等配置。</li>
</ul>
<ol start="4">
<li><strong>应用程序设置</strong></li>
</ol>
<ul>
<li>配置应用的全局设置，比如日志级别、缓存设置、上传文件大小限制等。</li>
<li>这些设置使代码更加灵活，方便不同环境下的运行。</li>
</ul>
<ol start="5">
<li><strong>多环境配置</strong></li>
</ol>
<ul>
<li>不同的环境可能需要不同的配置，比如开发和生产环境的数据库地址可能不同。</li>
<li>可以通过根据 <code>NODE_ENV</code> 环境变量来加载对应的配置文件（例如 <code>config/development.js</code>、<code>config/production.js</code>）。</li>
</ul>
<p><strong>总结</strong></p>
<p><code>config</code> 文件夹使应用的配置数据和代码逻辑分离，提高了可维护性和灵活性。</p>
<p><code>config.yml</code>文件内部先这样写：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">app:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">CurrencyExchangeApp</span></span><br><span class="line">  <span class="attr">port:</span> <span class="string">:3000</span> </span><br><span class="line"></span><br><span class="line"><span class="attr">database:</span></span><br><span class="line">  <span class="attr">host:</span> <span class="string">localhost</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">3306</span></span><br><span class="line">  <span class="attr">username:</span> <span class="string">your_username</span></span><br><span class="line">  <span class="attr">password:</span> <span class="string">your_password</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">currency_exchange_app</span></span><br></pre></td></tr></table></figure>

<p>敲命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">go mod init</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">go get -u github.com/gin-gonic/gin</span><br><span class="line">go get github.com/spf13/viper</span><br></pre></td></tr></table></figure>

<p>结构体（<code>.go</code>文件中）</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Config <span class="keyword">struct</span> &#123;</span><br><span class="line">	App <span class="keyword">struct</span> &#123;</span><br><span class="line">		Name <span class="type">string</span></span><br><span class="line">		Port <span class="type">string</span></span><br><span class="line">	&#125;</span><br><span class="line">	Database <span class="keyword">struct</span> &#123;</span><br><span class="line">		Host <span class="type">string</span></span><br><span class="line">		Port <span class="type">string</span></span><br><span class="line">		User <span class="type">string</span></span><br><span class="line">		Password <span class="type">string</span></span><br><span class="line">		Name <span class="type">string</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="viper使用示例"><a href="#viper使用示例" class="headerlink" title="viper使用示例"></a><code>viper</code>使用示例</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;log&quot;</span></span><br><span class="line">    <span class="string">&quot;github.com/spf13/viper&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// 设置配置文件的名称和路径</span></span><br><span class="line">    viper.SetConfigName(<span class="string">&quot;config&quot;</span>)       <span class="comment">// 配置文件名（不带扩展名）</span></span><br><span class="line">    viper.AddConfigPath(<span class="string">&quot;./config/&quot;</span>)    <span class="comment">// 配置文件路径</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 读取配置文件</span></span><br><span class="line">    <span class="keyword">if</span> err := viper.ReadInConfig(); err != <span class="literal">nil</span> &#123;</span><br><span class="line">        log.Fatalf(<span class="string">&quot;Error reading config file, %s&quot;</span>, err)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 访问配置项</span></span><br><span class="line">    host := viper.GetString(<span class="string">&quot;server.host&quot;</span>)     <span class="comment">// 获取配置项</span></span><br><span class="line">    port := viper.GetInt(<span class="string">&quot;server.port&quot;</span>)</span><br><span class="line">    </span><br><span class="line">    fmt.Printf(<span class="string">&quot;Server is running on %s:%d\n&quot;</span>, host, port)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>假设 <code>config.yaml</code> 文件的内容如下：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">host:</span> <span class="string">&quot;localhost&quot;</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8080</span></span><br></pre></td></tr></table></figure>

<p>同样的，如果定义了结构体后，<code>config.go</code>文件也可以这样写：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//设置配置文件的名称和路径</span></span><br><span class="line"></span><br><span class="line">AppConfig = &amp;Config&#123;&#125;<span class="comment">//Appconfig不会是nil，可以填充数据</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> err:= viper.Unmarshal(Appconfig); err != <span class="literal">nil</span> &#123;</span><br><span class="line">		log.Fatal(<span class="string">&quot;Unable to decode into struct,%v&quot;</span>,err)</span><br><span class="line">	&#125;<span class="comment">//Unmarshal是 Go 中常用的一个操作，通常用于从字节数据（如 JSON、XML、YAML 等格式）反序列化到 Go 结构体的过程</span></span><br></pre></td></tr></table></figure>





<h3 id="上手Gin"><a href="#上手Gin" class="headerlink" title="上手Gin"></a>上手Gin</h3><p>首先，后端可以简单的分为三个部分：</p>
<ul>
<li>业务逻辑层Business Logic Layer（负责核心的业务需求,将网络请求中的参数和数据库操作的结果整合起来并进行必要的逻辑处理）</li>
<li>网络请求处理层API Layer（作为前后端桥梁，处理前端发送的网络请求并返回响应）</li>
<li>数据库访问层Data Access Layer(负责与数据库交互，提供统一的数据库操作接口)</li>
</ul>
<p><strong>Gin</strong>是一个专门设计用于Web应用开发的框架，可以理解为它专属于网络请求处理层</p>
<p>后端对于前端的网络请求处理可以分为四个步骤：<strong>监听、解析、处理、响应</strong></p>
<h4 id="监听网络请求"><a href="#监听网络请求" class="headerlink" title="监听网络请求"></a>监听网络请求</h4><p><strong>职责</strong>：后端程序通过一个 HTTP 服务器监听指定端口，等待客户端发来的请求。</p>
<p><strong>底层实现</strong>：使用 TCP&#x2F;IP 协议监听套接字端口，并解析 HTTP 协议内容。</p>
<p><strong>实现</strong>：Gin 基于 Go 的 <code>net/http</code> 标准库，启动一个 HTTP 服务器并监听指定端口。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    r := gin.Default()    <span class="comment">// 创建一个默认的 Gin 实例</span></span><br><span class="line">    r.Run(<span class="string">&quot;:8080&quot;</span>)        <span class="comment">// 监听 8080 端口</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="Gin实例的作用"><a href="#Gin实例的作用" class="headerlink" title="Gin实例的作用"></a>Gin实例的作用</h5><p>Gin实例的类型是<code>*gin.Engine</code>,是Gin框架中定义的一个结构体，它封装了HTTP服务的所有功能。通过实例化<code>gin.Engine</code>可以使用Gin提供的各种功能</p>
<p>可以使用<code>gin.Default()</code>创建（自带了Logger和Recovery两个默认中间件），也可以使用<code>gin.New()</code>创建（不带任何默认中间件）</p>
<ol>
<li>路由管理：通过其<code>router</code>对象存储和管理路由规则，可以通过方法如<code>GET</code>、<code>POST</code>等定义不同路由</li>
<li>中间件处理：支持全局及路由级别中间件，可通过<code>Use</code>方法添加全局中间件</li>
<li>启动HTTP服务：提供<code>Run</code>方法用于启动和监听HTTP服务</li>
</ol>
<p>一般而言一个程序只需要一个Gin实例，除非需要同时监听多个端口等特殊情况</p>
<h5 id="端口的深入理解"><a href="#端口的深入理解" class="headerlink" title="端口的深入理解"></a>端口的深入理解</h5><p>端口的名称来源于现实世界中的港口（port），一台主机就像一个城市，而不同的端口负责处理不同的船只（网络请求）</p>
<p>而实际上，端口与硬件无关，只是一种由操作系统和网络协议定义管理的逻辑概念。</p>
<p>所谓端口是一张<strong>系统维护的映射表</strong>，系统提取出网络请求中要求的端口号，然后搜索映射表将数据包丢给端口号对应的程序来接收</p>
<p>映射表中通常包含端口号、协议（TCP或UDP）、进程标识（该端口绑定的进程）、状态（记录端口使用情况）</p>
<p>所以<strong>每个端口与 IP 地址一起构成一个通信唯一的“通道”</strong></p>
<p>而<strong>分配</strong>上，有两种方式</p>
<p>服务器端口：通常是由程序开发者或系统管理员显式指定的。例如，HTTP 默认使用端口 <code>80</code>，而 HTTPS 默认使用 <code>443</code>。</p>
<p>客户端端口：当客户端与服务器建立连接时，操作系统会为客户端动态分配一个临时端口（范围一般为 49152 到 65535），以便识别该客户端的通信。</p>
<p>所以如果<code>Run</code>中不写端口号，它会监听HTTP的8080端口</p>
<h4 id="应对网络请求"><a href="#应对网络请求" class="headerlink" title="应对网络请求"></a>应对网络请求</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">r.GET(<span class="string">&quot;/user/:id&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">    id := c.Param(<span class="string">&quot;id&quot;</span>)    <span class="comment">// 获取路径参数</span></span><br><span class="line">    name := c.Query(<span class="string">&quot;name&quot;</span>) <span class="comment">// 获取查询参数</span></span><br><span class="line">    c.JSON(<span class="number">200</span>, gin.H&#123;<span class="string">&quot;id&quot;</span>: id, <span class="string">&quot;name&quot;</span>: name&#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h5 id="解析"><a href="#解析" class="headerlink" title="解析"></a>解析</h5><p>解析客户端请求的内容，包括：</p>
<ul>
<li>HTTP方法（客户端和服务器之间通信时，客户端向服务器请求特定资源时使用的不同操作类型，如GET&#x2F;POST等）</li>
<li>URL路径和查询参数（<code>/user/:id</code>）</li>
<li>Headers和请求体（<code>Context</code>对象封装了所有请求相信息，可以通过<code>c.Param(&quot;&quot;)</code>、<code>c.Query(&quot;&quot;)</code>、<code>c.ShouldBindJSON(&amp;obj)</code>(将JSON请求体解析为结构体)等手段来提取访问）</li>
</ul>
<p>可以把HTTP方法、URL路径都看作传入的参数，而gin中写的是一个函数的重载方法，gin会根据传参来匹配使用哪个函数</p>
<p><strong>实例</strong></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">r.GET(<span class="string">&quot;/user/:id&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span>&#123;</span><br><span class="line">    <span class="comment">//函数体</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><code>c</code> 是 <code>*gin.Context</code> 类型，表示当前的请求上下文。</p>
<p><code>*gin.Context</code>包含了当前请求的所有信息，如请求头、请求体、查询参数、路由参数等，提供了与请求和响应交互的接口</p>
<h5 id="处理"><a href="#处理" class="headerlink" title="处理"></a>处理</h5><p>调用具体的函数（比如另两层的函数来完成具体任务）</p>
<p>可以进行数据库操作、计算、验证等等</p>
<h5 id="构建返回响应"><a href="#构建返回响应" class="headerlink" title="构建返回响应"></a>构建返回响应</h5><p>过程大概是决定要返回什么样的数据给请求方（如JSON、HTML等）–&gt;设置HTTP状态码（如200、400、500等）–&gt;构建响应内容（符合你选定的数据格式）</p>
<p><strong>实例</strong></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">c.JSON(<span class="number">200</span>, gin.H&#123;<span class="string">&quot;message&quot;</span>: <span class="string">&quot;pong&quot;</span>&#125;) <span class="comment">// 构建 JSON 响应</span></span><br></pre></td></tr></table></figure>

<p><strong>决定以什么格式返回</strong></p>
<p><code>c.JSON()</code> 是 <code>*gin.Context</code> 提供的一个方法，用于将数据作为 JSON 格式返回给客户端。</p>
<p>除了<code>c.JSON()</code>之外，还有<code>c.String</code>、<code>c.XML</code>、<code>c.HTML</code>等等</p>
<p><strong>设置状态码</strong></p>
<p><code>200</code> 是 HTTP 状态码，表示请求成功。</p>
<p><strong>构建响应内容并返回</strong></p>
<p><code>gin.H&#123;&quot;message&quot;: &quot;This is a GET request&quot;&#125;</code> 是 Gin 提供的一个便捷方法，表示返回的数据（在这里是一个包含键值对的字典）。（多项中以逗号隔开，如果单行声明则最后一项不需要逗号，多行则需要）</p>
<p><code>gin.H</code> 是一个 <code>map[string]interface&#123;&#125;</code>类型，表示返回的 JSON 对象。</p>
<ul>
<li><code>&#123;&quot;message&quot;: &quot;This is a GET request&quot;&#125;</code> 表示响应体的内容，将以 JSON 格式返回</li>
</ul>
<h4 id="中间件"><a href="#中间件" class="headerlink" title="中间件"></a>中间件</h4><p>在 <strong>Gin</strong> 中，中间件允许你在请求和响应的生命周期中加入额外的处理逻辑。</p>
<p>中间件可以在请求到达路由处理函数之前，或者在路由处理函数执行之后，执行一些操作，例如：日志记录、身份验证、请求限流、跨域资源共享（CORS）、请求数据解析等。</p>
<p><strong>中间件的基本概念</strong></p>
<p>中间件是一个函数，它接受一个 <code>*gin.Context</code> 参数，并且必须调用 <code>next()</code> 来将控制权交给下一个中间件或路由处理函数。如果中间件没有调用 <code>next()</code>，请求将会在该中间件处停止。</p>
<p><strong>实例</strong>(建立)</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">MyMiddleware</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">    <span class="comment">// 在请求前执行的操作</span></span><br><span class="line">    log.Println(<span class="string">&quot;Before Request&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 执行到下一个中间件或处理函数</span></span><br><span class="line">    c.Next()</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 在请求后执行的操作</span></span><br><span class="line">    log.Println(<span class="string">&quot;After Request&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>实例</strong>（使用）</p>
<p>全局中间件(所有路由之前都执行一个中间件)：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">r := gin.Default()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 注册全局中间件</span></span><br><span class="line">r.Use(MyMiddleware)</span><br><span class="line"></span><br><span class="line">r.GET(<span class="string">&quot;/test&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">    c.JSON(<span class="number">200</span>, gin.H&#123;<span class="string">&quot;message&quot;</span>: <span class="string">&quot;Test Route&quot;</span>&#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">r.Run(<span class="string">&quot;:8080&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>特定路由中间件（为某些特定路由注册）：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">r := gin.Default()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 为某个路由注册中间件</span></span><br><span class="line">r.GET(<span class="string">&quot;/only-this-route&quot;</span>, MyMiddleware, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">    c.JSON(<span class="number">200</span>, gin.H&#123;<span class="string">&quot;message&quot;</span>: <span class="string">&quot;This route uses a middleware&quot;</span>&#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 或者为路由组注册中间件</span></span><br><span class="line">api := r.Group(<span class="string">&quot;/api&quot;</span>)</span><br><span class="line">api.Use(MyMiddleware)</span><br><span class="line">&#123;</span><br><span class="line">    api.GET(<span class="string">&quot;/endpoint&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">        c.JSON(<span class="number">200</span>, gin.H&#123;<span class="string">&quot;message&quot;</span>: <span class="string">&quot;API endpoint&quot;</span>&#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">r.Run(<span class="string">&quot;:8080&quot;</span>)</span><br></pre></td></tr></table></figure>

<p><strong>执行顺序</strong></p>
<p>在<code>c.next()</code>之前的指令执行于接收对应到HTTP请求之后，后续中间件和路由处理函数执行前</p>
<p><code>c.next()</code>开始执行下一个中间件或者回调函数</p>
<p>在<code>c.next()</code>之后的指令会在后续的中间件和路由回调函数执行完成之后执行</p>
<h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><p>综上，总结处理过程应该就是</p>
<ol>
<li><p>路由分类</p>
<p>收到HTTP请求时查看URL和HTTP方法，决定哪个路由处理函数需要被调用</p>
</li>
<li><p>调用回调函数</p>
<p>找到匹配的路由规则调用对应的回调函数</p>
</li>
<li><p>操作<code>*gin.Context</code></p>
<p>获取请求数据、实现业务逻辑等等</p>
</li>
<li><p>返回响应</p>
<p>可以使用<code>gin.H</code>快速构建</p>
</li>
</ol>

      
    </div>
    
    
    

    

    

    

<div>
  
    <div>
    
        <div style="text-align:center;color: #ccc;font-size:14px;">-------------本文结束<i class="fa fa-paw"></i>感谢您的阅读-------------</div>
    
</div>

  
</div>

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2024/11/23/go%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B01/" rel="next" title="go学习笔记1">
                <i class="fa fa-chevron-left"></i> go学习笔记1
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2024/11/23/%E5%BB%BA%E7%AB%8B%E4%B8%80%E4%B8%AA%E9%A1%B9%E7%9B%AE2-GORM%E5%85%A5%E9%97%A8/" rel="prev" title="建立一个项目2_GORM入门">
                建立一个项目2_GORM入门 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/headImage.jpg"
                alt="" />
            
              <p class="site-author-name" itemprop="name"></p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/">
              
                  <span class="site-state-item-count">11</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">4</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">5</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/ShanJHS" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#RESTful-API"><span class="nav-number">1.</span> <span class="nav-text">RESTful API</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#MVC"><span class="nav-number">2.</span> <span class="nav-text">MVC</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%89%8D%E7%AB%AF%E8%B7%AF%E7%94%B1%E5%92%8C%E5%90%8E%E7%AB%AF%E8%B7%AF%E7%94%B1"><span class="nav-number">3.</span> <span class="nav-text">前端路由和后端路由</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%89%8D%E7%AB%AF%E8%B7%AF%E7%94%B1"><span class="nav-number">3.1.</span> <span class="nav-text">前端路由</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%90%8E%E7%AB%AF%E8%B7%AF%E7%94%B1"><span class="nav-number">3.2.</span> <span class="nav-text">后端路由</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%AD%A3%E5%BC%8F%E5%86%99%E4%BB%A3%E7%A0%81%E5%95%A6"><span class="nav-number"></span> <span class="nav-text">正式写代码啦</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Viper%E8%AF%BB%E5%8F%96%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="nav-number">1.</span> <span class="nav-text">Viper读取配置文件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#yml%E6%96%87%E4%BB%B6%E4%BB%8B%E7%BB%8D"><span class="nav-number">1.1.</span> <span class="nav-text">.yml文件介绍</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#config%E6%96%87%E4%BB%B6%E5%A4%B9%E7%AE%80%E4%BB%8B"><span class="nav-number">1.2.</span> <span class="nav-text">config文件夹简介</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#viper%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B"><span class="nav-number">1.3.</span> <span class="nav-text">viper使用示例</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%8A%E6%89%8BGin"><span class="nav-number">2.</span> <span class="nav-text">上手Gin</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%9B%91%E5%90%AC%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82"><span class="nav-number">2.1.</span> <span class="nav-text">监听网络请求</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Gin%E5%AE%9E%E4%BE%8B%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="nav-number">2.1.1.</span> <span class="nav-text">Gin实例的作用</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%AB%AF%E5%8F%A3%E7%9A%84%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3"><span class="nav-number">2.1.2.</span> <span class="nav-text">端口的深入理解</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BA%94%E5%AF%B9%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82"><span class="nav-number">2.2.</span> <span class="nav-text">应对网络请求</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%A7%A3%E6%9E%90"><span class="nav-number">2.2.1.</span> <span class="nav-text">解析</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%A4%84%E7%90%86"><span class="nav-number">2.2.2.</span> <span class="nav-text">处理</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%9E%84%E5%BB%BA%E8%BF%94%E5%9B%9E%E5%93%8D%E5%BA%94"><span class="nav-number">2.2.3.</span> <span class="nav-text">构建返回响应</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%AD%E9%97%B4%E4%BB%B6"><span class="nav-number">2.3.</span> <span class="nav-text">中间件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%80%BB%E7%BB%93"><span class="nav-number">2.4.</span> <span class="nav-text">总结</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">山角函兽</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"model":{"jsonPath":"/live2dw/assets/hibiki.model.json"},"display":{"position":"right","width":150,"height":320},"mobile":{"show":"true#是否在手机端显示"},"log":false});</script></body>
</html>
<!-- 页面点击小红心 -->
<script type="text/javascript" src="/js/src/clicklove.js"></script>
